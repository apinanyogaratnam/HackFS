(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(35),o=n.n(l),c=(n(86),n(79)),i=n.n(c),s=n(13),m=function(){return{windowPosition:{x:1e3,y:-20}}},d=r.a.createContext({}),u=function(e){var t=e.children,n=m().windowPosition,l=Object(a.useState)(void 0),o=Object(s.a)(l,2),c=o[0],i=o[1];return Object(a.useEffect)((function(){window.addEventListener("message",(function(e){e.source===window&&e.data.type&&"EXTENSION_ID_RESULT"===e.data.type&&i(e.data.extensionId)}))}),[]),r.a.createElement(d.Provider,{value:{extensionId:c,getExtensionId:function(){window.postMessage({type:"GET_EXTENSION_ID"},"*")},windowPosition:n}},t)},p=(n(37),n(11)),E=n.n(p),h=n(15),v={livePeerServerUrl:"rtmp://rtmp.livepeer.com/live/",streamKey:"example stream key goes here",playbackUrl:"https://cdn.livepeer.com/hls/unique_playback_id_goes_here/index.m3u8"},w=n(80),f=n.n(w),b=(n(88),n(17),n(78),n(20),n(21),n(26)),g=n.n(b),x={name:"test_stream",profiles:[{name:"720p",bitrate:2e6,fps:30,width:1280,height:720},{name:"480p",bitrate:1e6,fps:30,width:854,height:480},{name:"360p",bitrate:5e5,fps:30,width:640,height:360}],record:!0},y=function(){var e=n(38),t="b09a2a15-05c4-49ec-8807-ac87de9e6e0d",l=new e(t);var o=Object(a.useState)([]),c=Object(s.a)(o,2),i=c[0],m=c[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),p=u[0],w=u[1];Object(a.useEffect)((function(){l.Stream.create(x).then((function(e){console.log(e),m(e)}))}),[]);var b=function(){var e=Object(h.a)(E.a.mark((function e(){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://livepeer.com/api/session?limit=20&parentId=".concat(i.id),e.next=3,g.a.get(n,{headers:{Authorization:"Bearer ".concat(t)}});case 3:a=e.sent,console.log(a),console.log(a.data[0].mp4Url),w(a.data[0].mp4Url);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h4",{className:"text"},"Connect via OBS Studio:",r.a.createElement("br",null),"Set OBS settings: settings ",">"," stream. set service to custom",r.a.createElement("br",null),"set server to: ",v.livePeerServerUrl,r.a.createElement("br",null),r.a.createElement("p",null,"Stream Key: ",i.streamKey),r.a.createElement("p",null,"Playback URL: https://cdn.livepeer.com/hls/",i.playbackId,"/index.m3u8"),r.a.createElement("p",null,"Stream id: ",i.id),r.a.createElement("p",null,"Link URL: ",p)),r.a.createElement("button",{onClick:b},"Stop Streaming"),r.a.createElement(f.a,{src:p}))},S=function(){return r.a.createElement(d.Consumer,null,(function(e){var t=e.windowPosition,n=e.hasDraggedWindowPosition,a=e.extensionId;e.getExtensionId;return r.a.createElement(i.a,{handle:".modal-handle",defaultPosition:{x:t.x,y:t.y},position:n?{x:t.x,y:t.y}:null},r.a.createElement("div",{id:"modal",className:"modal-window",style:{transform:t}},r.a.createElement("div",{className:"modal-window-inner-border"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"modal-handle"},r.a.createElement("div",{className:"modal-close-button"}),r.a.createElement("h6",{className:"handle-text"},"Click to drag")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("h3",null,a),r.a.createElement(y,null)))))))}))};var O=function(){return r.a.createElement(u,null,r.a.createElement(S,null))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null)),document.getElementById("modal-window"))},37:function(e,t,n){},81:function(e,t,n){e.exports=n(132)},86:function(e,t,n){}},[[81,1,2]]]);
//# sourceMappingURL=main.96c3df78.chunk.js.map