(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),c=n.n(l),o=(n(83),n(75)),i=n.n(o),s=n(15),u=function(){return{windowPosition:{x:100,y:100}}},d=r.a.createContext({}),m=function(e){var t=e.children,n=u().windowPosition,l=Object(a.useState)(void 0),c=Object(s.a)(l,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){window.addEventListener("message",(function(e){e.source===window&&e.data.type&&"EXTENSION_ID_RESULT"===e.data.type&&i(e.data.extensionId)}))}),[]),r.a.createElement(d.Provider,{value:{extensionId:o,getExtensionId:function(){window.postMessage({type:"GET_EXTENSION_ID"},"*")},windowPosition:n}},t)},p=(n(34),{livePeerServerUrl:"rtmp://rtmp.livepeer.com/live/",streamKey:"example stream key goes here",playbackUrl:"https://cdn.livepeer.com/hls/unique_playback_id_goes_here/index.m3u8"}),E=(n(84),n(85),function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),l=t[0],c=t[1],o=new(n(86))("b09a2a15-05c4-49ec-8807-ac87de9e6e0d");return Object(a.useEffect)((function(){o.Stream.create({name:"test_stream",profiles:[{name:"720p",bitrate:2e6,fps:30,width:1280,height:720},{name:"480p",bitrate:1e6,fps:30,width:854,height:480},{name:"360p",bitrate:5e5,fps:30,width:640,height:360}],record:!0}).then((function(e){console.log(e),c(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("p",null,"Stream Key: ",l.streamKey),r.a.createElement("p",null,"Playback URL: https://cdn.livepeer.com/hls/",l.playbackId,"/index.m3u8"))}),v=n(22),b=(n(74),function(){return r.a.createElement("div",null)}),w=n(14),f=n.n(w),h=n(32),g=n(76),x=n(77),y=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(null),o=Object(s.a)(c,2),i=o[0],u=o[1],d=Object(a.useState)(null),m=Object(s.a)(d,2),p=m[0],E=m[1],b=function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=navigator.mediaDevices,e.next=3,t.getDisplayMedia({video:!0,audio:!1});case 3:return n=e.sent,a=new g.RecordRTCPromisesHandler(n,{type:"video"}),e.next=7,a.startRecording();case 7:l(a),u(n),E(null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return e.next=3,n.stopRecording();case 3:return e.next=5,n.getBlob();case 5:return t=e.sent,i.stop(),E(t),u(null),l(null),e.abrupt("return");case 11:alert("No video streaming currently to stop");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("button",{onClick:b},"Start streaming"),r.a.createElement("button",{onClick:w},"Stop streaming"),r.a.createElement("button",{onClick:function(){p?Object(x.saveAs)(p,"recording.webm"):alert("No video streamed to download")}},"Download Stream"),!!p&&r.a.createElement(v.Player,{src:window.URL.createObjectURL(p)}))},O=function(){return r.a.createElement("div",null,r.a.createElement("h4",{className:"text"},"Connect via OBS Studio:",r.a.createElement("br",null),"Set OBS settings: settings ",">"," stream. set service to custom",r.a.createElement("br",null),"set server to: ",p.livePeerServerUrl,r.a.createElement("br",null),r.a.createElement(E,{className:"live-peer-data"})),r.a.createElement(y,null),r.a.createElement(b,null))},S=function(){return r.a.createElement(d.Consumer,null,(function(e){var t=e.windowPosition,n=e.hasDraggedWindowPosition,a=e.extensionId;e.getExtensionId;return r.a.createElement(i.a,{handle:".modal-handle",defaultPosition:{x:t.x,y:t.y},position:n?{x:t.x,y:t.y}:null},r.a.createElement("div",{id:"modal",className:"modal-window",style:{transform:t}},r.a.createElement("div",{className:"modal-window-inner-border"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"modal-handle"},r.a.createElement("div",{className:"modal-close-button"}),r.a.createElement("h6",{className:"handle-text"},"Click to drag")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("h3",null,a),r.a.createElement(O,null)))))))}))};var j=function(){return r.a.createElement(m,null,r.a.createElement(S,null))};c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null)),document.getElementById("modal-window"))},34:function(e,t,n){},78:function(e,t,n){e.exports=n(132)},83:function(e,t,n){}},[[78,1,2]]]);
//# sourceMappingURL=main.f43981f5.chunk.js.map