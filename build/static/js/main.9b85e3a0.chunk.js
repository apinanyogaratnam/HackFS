(window["webpackJsonpreact-chrome-extension-boilerplate"]=window["webpackJsonpreact-chrome-extension-boilerplate"]||[]).push([[0],{19:function(e,t,n){},38:function(e,t,n){e.exports=n(78)},43:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),c=n(14),i=n.n(c),o=(n(43),n(30)),s=n.n(o),m=n(7),d=function(){return{windowPosition:{x:1e3,y:-20}}},u=l.a.createContext({}),p=function(e){var t=e.children,n=d().windowPosition,a=Object(r.useState)(void 0),c=Object(m.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){window.addEventListener("message",(function(e){e.source===window&&e.data.type&&"EXTENSION_ID_RESULT"===e.data.type&&o(e.data.extensionId)}))}),[]),l.a.createElement(u.Provider,{value:{extensionId:i,getExtensionId:function(){window.postMessage({type:"GET_EXTENSION_ID"},"*")},windowPosition:n}},t)},E=(n(19),n(31)),h=n(2),w=n.n(h),b=n(32),v={livePeerServerUrl:"rtmp://rtmp.livepeer.com/live/",streamKey:"example stream key goes here",playbackUrl:"https://cdn.livepeer.com/hls/unique_playback_id_goes_here/index.m3u8"},f=n(33),g=n.n(f),x=(n(46),n(15)),y=n.n(x),S=n(34),O={name:"test_stream",profiles:[{name:"720p",bitrate:2e6,fps:30,width:1280,height:720},{name:"480p",bitrate:1e6,fps:30,width:854,height:480},{name:"360p",bitrate:5e5,fps:30,width:640,height:360}],record:!0},k=S.a.div(a||(a=Object(E.a)(["\n  background-color: purple;\n  width: 100%;\n  height: 100%;\n"]))),N=function(){var e=n(64),t="b09a2a15-05c4-49ec-8807-ac87de9e6e0d",a=new e(t),c=Object(r.useState)([]),i=Object(m.a)(c,2),o=i[0],s=i[1],d=Object(r.useState)(null),u=Object(m.a)(d,2),p=u[0],E=u[1];Object(r.useEffect)((function(){a.Stream.create(O).then((function(e){s(e)}))}),[]);var h=function(){var e=Object(b.a)(w.a.mark((function e(){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://livepeer.com/api/session?limit=20&parentId=".concat(o.id),e.next=3,y.a.get(n,{headers:{Authorization:"Bearer ".concat(t)}});case 3:if(0!==(a=e.sent).data.length){e.next=7;break}return alert("No stream detected"),e.abrupt("return");case 7:E(a.data[0].mp4Url),""===p&&alert("stream is currently processing");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(k,null,l.a.createElement("h4",{className:"text"},"Connect via OBS Studio:",l.a.createElement("br",null),"Set OBS settings: settings ",">"," stream. set service to custom",l.a.createElement("br",null),"set server to: ",v.livePeerServerUrl,l.a.createElement("br",null),l.a.createElement("p",null,"Stream Key: ",o.streamKey),l.a.createElement("p",null,"Playback URL: https://cdn.livepeer.com/hls/",o.playbackId,"/index.m3u8"),l.a.createElement("p",null,"Stream id: ",o.id),l.a.createElement("p",null,"Link URL: ",p)),l.a.createElement("button",{onClick:h},"Play Stream"),l.a.createElement(g.a,{src:p}))},I=function(){return l.a.createElement(u.Consumer,null,(function(e){var t=e.windowPosition,n=e.hasDraggedWindowPosition,a=e.extensionId;e.getExtensionId;return l.a.createElement(s.a,{handle:".modal-handle",defaultPosition:{x:t.x,y:t.y},position:n?{x:t.x,y:t.y}:null},l.a.createElement("div",{id:"modal",className:"modal-window",style:{transform:t}},l.a.createElement("div",{className:"modal-window-inner-border"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"modal-handle"},l.a.createElement("div",{className:"modal-close-button"}),l.a.createElement("h6",{className:"handle-text"},"Click to drag")),l.a.createElement("div",{className:"modal-content"},l.a.createElement("h3",null,a),l.a.createElement(N,null)))))))}))};var P=function(){return l.a.createElement(p,null,l.a.createElement(I,null))};i.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(P,null)),document.getElementById("modal-window"))}},[[38,1,2]]]);
//# sourceMappingURL=main.9b85e3a0.chunk.js.map